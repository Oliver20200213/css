{{template "base.html" .}}

{{define "content"}}
<p><a href="/student/add" class="btn btn-primary">添加学生</a></p>
<table class="table table-bordered">
    <tr>
        <th>序号</th>
        <th>学号</th>
        <th>姓名</th>
        <th>性别</th>
        <th>电话</th>
        <th>生日</th>
        <th>班级</th>
        <th>所选课程</th>
        <th>编辑</th>
        <th>删除</th>
    </tr>
    {{range $index,$student := .students}}
    <tr>
        <td>{{Add $index 1}}</td>
        <td>{{$student.Sno}}</td>
        <td><a href="/student/{{$student.Sno}}">{{$student.Name}}</a></td>
        <td>{{$student.Gender}}</td>
        <td>{{$student.Tel}}</td>
        <td>{{$student.Birth.Format `2006/01/02`}}</td>
        <td>{{$student.Class.Name}}</td>
        <td>
            {{range $index,$course := $student.Courses}}
            <button class="btn btn-sm">{{$course.Name}}</button>
            {{end}}
        </td>
        <td><a href="/student/edit/{{$student.Sno}}"><span class="glyphicon glyphicon-edit"></span></a></td>
        <td><a href="/student/delete/{{$student.Sno}}"><span class="glyphicon glyphicon-trash"></span></a></td>
    </tr>
    {{end}}
</table>
{{end}}